<div class="container py-5 m-0">
  <div class="row justify-content-center">
    <div class="col-md-6 col-lg-5">
      <div class="card shadow-sm">
        <div class="card-body p-4">
          <h2 class="card-title text-center mb-4">تغيير كلمة المرور</h2>
          <form
            [formGroup]="changePasswordForm"
            (ngSubmit)="submitChangePassword()"
          >
            <!-- Old Password -->
            <div class="mb-3">
              <label for="oldPassword" class="form-label"
                >كلمة المرور القديمة</label
              >
              <input
                type="password"
                id="oldPassword"
                formControlName="oldPassword"
                class="form-control"
                [ngClass]="{ 'is-invalid': isFieldInvalid('oldPassword') }"
                placeholder="أدخل كلمة المرور القديمة"
              />
              <div
                *ngIf="isFieldInvalid('oldPassword')"
                class="invalid-feedback"
              >
                {{ getFieldError("oldPassword") }}
              </div>
            </div>

            <!-- New Password -->
            <div class="mb-3">
              <label for="newPassword" class="form-label"
                >كلمة المرور الجديدة</label
              >
              <input
                type="password"
                id="newPassword"
                formControlName="newPassword"
                class="form-control"
                [ngClass]="{ 'is-invalid': isFieldInvalid('newPassword') }"
                placeholder="أدخل كلمة المرور الجديدة"
              />
              <div
                *ngIf="isFieldInvalid('newPassword')"
                class="invalid-feedback"
              >
                {{ getFieldError("newPassword") }}
              </div>
            </div>

            <!-- Confirm New Password -->
            <div class="mb-3">
              <label for="confirmNewPassword" class="form-label"
                >تأكيد كلمة المرور الجديدة</label
              >
              <input
                type="password"
                id="confirmNewPassword"
                formControlName="confirmNewPassword"
                class="form-control"
                [ngClass]="{
                  'is-invalid': isFieldInvalid('confirmNewPassword')
                }"
                placeholder="أدخل كلمة المرور الجديدة مرة أخرى"
              />
              <div
                *ngIf="isFieldInvalid('confirmNewPassword')"
                class="invalid-feedback"
              >
                {{ getFieldError("confirmNewPassword") }}
              </div>
            </div>

            <!-- Submit Button -->
            <div class="d-grid">
              <button
                type="submit"
                class="btn btn-warning"
                [disabled]="isSubmitting || changePasswordForm.invalid"
              >
                {{ isSubmitting ? "جاري التغيير..." : "تغيير كلمة المرور" }}
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
