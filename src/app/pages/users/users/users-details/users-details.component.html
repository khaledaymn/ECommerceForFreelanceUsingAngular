<div class="modal-overlay" *ngIf="isOpen" (click)="onClose()">
  <div class="modal-container" (click)="$event.stopPropagation()">
    <!-- Modal Header -->
    <div class="modal-header">
      <div class="header-content">
        <div class="header-icon">
          <i class="material-icons">person</i>
        </div>
        <div class="header-text">
          <h2 class="modal-title">تفاصيل المستخدم</h2>
          <p class="modal-subtitle">عرض جميع معلومات المستخدم</p>
        </div>
      </div>
      <button class="close-button" (click)="onClose()">
        <i class="material-icons">close</i>
      </button>
    </div>

    <!-- Modal Body -->
    <div class="modal-body">
      <div class="user-details" *ngIf="user">
        <div class="info-section">
          <!-- User Information -->
          <div class="info-group">
            <div class="group-header">
              <i class="material-icons">info</i>
              <h3>المعلومات الأساسية</h3>
            </div>
            <div class="info-grid">
              <div class="info-item">
                <label class="info-label">الاسم الأول</label>
                <div class="info-value">{{ user.fName || "غير محدد" }}</div>
              </div>
              <div class="info-item">
                <label class="info-label">الاسم الأخير</label>
                <div class="info-value">{{ user.lName || "غير محدد" }}</div>
              </div>
              <div class="info-item">
                <label class="info-label">البريد الإلكتروني</label>
                <div class="info-value">{{ user.email || "غير محدد" }}</div>
              </div>
              <div class="info-item">
                <label class="info-label">رقم الهاتف</label>
                <div class="info-value">
                  {{ user.phoneNumber || "غير متوفر" }}
                </div>
              </div>
              <div class="info-item">
                <label class="info-label">العنوان</label>
                <div class="info-value">{{ user.address || "غير متوفر" }}</div>
              </div>
              <div class="info-item">
                <label class="info-label">حالة المستخدم</label>
                <div class="info-value">
                  <span
                    class="status-badge"
                    [class]="
                      user.isDeleted ? 'status-unavailable' : 'status-available'
                    "
                  >
                    {{ user.isDeleted ? "محظور" : "نشط" }}
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal Footer -->
    <div class="modal-footer">
      <div class="footer-actions">
        <button class="action-button secondary-button" (click)="onClose()">
          <i class="material-icons">close</i>
          <span>إغلاق</span>
        </button>
        <button
          class="action-button"
          [class.danger-button]="!user.isDeleted"
          [class.success-button]="user.isDeleted"
          (click)="onBlockUser()"
        >
          <i class="material-icons">{{
            user.isDeleted ? "cancel" : "block"
          }}</i>
          <span>{{ user.isDeleted ? "إلغاء الحظر" : "حظر المستخدم" }}</span>
        </button>
      </div>
    </div>
  </div>
</div>
